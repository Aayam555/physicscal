<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relative Velocity Problem</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$','$'], ['\\(','\\)']],
                processEscapes: true
            }
        });
    </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .step-section {
            padding-bottom: 2rem;
            border-bottom: 1px solid #e5e7eb;
            margin-bottom: 2rem;
        }
        .step-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        canvas {
            background-color: #f8fafc;
            border-radius: 0.5rem;
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
    <div class="bg-white rounded-lg shadow-xl p-8 max-w-3xl w-full">
        <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Relative Velocity Problem</h1>
        <div class="mb-8">
            <h2 class="text-xl font-semibold text-gray-700 mb-2">The Problem</h2>
            <p class="text-gray-600">A ship moves along the equator to the east with velocity $\vec{v}_0 = 30 \text{ kmh}^{-1}$. The southeastern wind blows at an angle $\phi = 60^\circ$ to the equator with velocity $\vec{v} = 15 \text{ kmh}^{-1}$. Find the wind velocity $\vec{v}'$ relative to the ship and the angle $\phi'$ between the equator and the wind direction in the reference frame fixed to the ship.</p>
        </div>

        <div class="step-section">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Step 1: Define the Velocity Vectors</h2>
            <p class="text-gray-600 mb-4">First, let's represent the velocities as vectors in a coordinate system where the positive x-axis is **East** and the positive y-axis is **North**. This is our reference frame for all calculations.</p>
            <p class="text-gray-600 mb-2">The ship's velocity, $\vec{v}_s$, is a simple vector pointing straight east:</p>
            <p class="text-center text-lg font-mono text-gray-800 mb-4">
                $\vec{v}_s = (30, 0) \text{ km/h}$
            </p>
            <p class="text-gray-600 mb-2">The wind is a **southeastern** wind. This means it is blowing **from** the southeast, which is **towards** the northwest. This places the vector in the second quadrant. Its components are calculated as follows:</p>
            <p class="text-center text-lg font-mono text-gray-800 mb-4">
                $\vec{v}_w = (-15 \cos(60^\circ), 15 \sin(60^\circ))$<br>
                $\vec{v}_w = (-7.5, 12.99) \text{ km/h}$
            </p>
        </div>

        <div class="step-section">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Step 2: Calculate the Relative Velocity</h2>
            <p class="text-gray-600 mb-4">The **wind velocity relative to the ship** is the vector difference between the wind's velocity and the ship's velocity. This is given by the equation: $\vec{v}_{rel} = \vec{v}_w - \vec{v}_s$.</p>
            <p class="text-gray-600 mb-2">We perform the subtraction on the components of the vectors:</p>
            <p class="text-center text-lg font-mono text-gray-800 mb-4">
                $\vec{v}_{rel} = (-7.5 - 30, 12.99 - 0)$<br>
                $\vec{v}_{rel} = (-37.5, 12.99) \text{ km/h}$
            </p>
            <p class="text-gray-600">The resulting vector has a negative x-component and a positive y-component, which means the relative wind is also blowing in the **northwest** direction.</p>
        </div>

        <div class="step-section">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Step 3: Magnitude and Angle</h2>
            <p class="text-gray-600 mb-4">Now, we find the magnitude and angle of the resulting relative velocity vector.</p>
            <p class="text-gray-600 mb-2">The **magnitude** is calculated using the Pythagorean theorem:</p>
            <p class="text-center text-lg font-mono text-gray-800 mb-4">
                $|\vec{v}_{rel}| = \sqrt{(-37.5)^2 + (12.99)^2} \approx 39.7 \text{ km/h}$
            </p>
            <p class="text-gray-600 mb-2">The **angle** $\phi'$ is found using the arctangent function. Since the vector is in the second quadrant, the angle is measured from the negative x-axis towards the positive y-axis.</p>
            <p class="text-center text-lg font-mono text-gray-800 mb-4">
                $\tan(\phi') = \frac{12.99}{-37.5} \approx -0.3464$<br>
                $\phi' = \arctan(-0.3464) \approx -19.1^\circ$
            </p>
            <p class="text-gray-600">This means the relative wind is blowing **$19.1^\circ$ north of west**.</p>
        </div>

        <div>
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Visualizing the Vectors with the Parallelogram Method</h2>
            <p class="text-gray-600 mb-2">This diagram shows the vector subtraction $\vec{v}_{rel} = \vec{v}_w - \vec{v}_s$ by adding the negative of the ship's velocity to the wind's velocity, forming a parallelogram.</p>
            <div class="flex items-center space-x-4 mb-4">
                <div class="flex items-center">
                    <div class="w-4 h-4 bg-blue-600 rounded-full mr-2"></div>
                    <span class="text-sm text-gray-700">Ship's Velocity ($\vec{v}_s$)</span>
                </div>
                <div class="flex items-center">
                    <div class="w-4 h-4 bg-red-600 rounded-full mr-2"></div>
                    <span class="text-sm text-gray-700">Wind's Velocity ($\vec{v}_w$)</span>
                </div>
                <div class="flex items-center">
                    <div class="w-4 h-4 bg-purple-600 rounded-full mr-2"></div>
                    <span class="text-sm text-gray-700">Negative Ship Velocity ($-\vec{v}_s$)</span>
                </div>
                 <div class="flex items-center">
                    <div class="w-4 h-4 bg-green-600 rounded-full mr-2"></div>
                    <span class="text-sm text-gray-700">Relative Velocity ($\vec{v}_{rel}$)</span>
                </div>
            </div>
            <canvas id="vectorCanvas" width="800" height="500" class="border-2 border-gray-300"></canvas>
        </div>
    </div>
    
    <script>
        window.onload = function() {
            const canvas = document.getElementById('vectorCanvas');
            const ctx = canvas.getContext('2d');
            
            const scale = 8; // Pixels per km/h
            const originX = canvas.width / 2;
            const originY = canvas.height / 2;
            const arrowHeadSize = 8;
            
            // Vector components
            const vs = { x: 30, y: 0 };
            const vs_neg = { x: -30, y: 0 };
            const vw = { x: -7.5, y: 12.99 };
            const vrel = { x: -37.5, y: 12.99 };

            function drawVector(startX, startY, endX, endY, color, label) {
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.strokeStyle = color;
                ctx.lineWidth = 2;
                ctx.stroke();
                
                const angle = Math.atan2(endY - startY, endX - startX);
                ctx.beginPath();
                ctx.moveTo(endX, endY);
                ctx.lineTo(endX - arrowHeadSize * Math.cos(angle - Math.PI / 6), endY - arrowHeadSize * Math.sin(angle - Math.PI / 6));
                ctx.moveTo(endX, endY);
                ctx.lineTo(endX - arrowHeadSize * Math.cos(angle + Math.PI / 6), endY - arrowHeadSize * Math.sin(angle + Math.PI / 6));
                ctx.strokeStyle = color;
                ctx.lineWidth = 2;
                ctx.stroke();
                
                ctx.fillStyle = color;
                ctx.font = '14px Arial';
                let labelX = endX + 10 * Math.cos(angle);
                let labelY = endY + 10 * Math.sin(angle);
                
                if (label === 'v_s' || label === '-v_s') {
                    labelY += 15; // Move label down
                }
                
                ctx.fillText(label, labelX, labelY);
            }

            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw axes
            ctx.strokeStyle = '#9ca3af';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(canvas.width, originY);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, canvas.height);
            ctx.stroke();

            // Draw axis labels
            ctx.fillStyle = '#6b7280';
            ctx.font = '12px Arial';
            ctx.fillText('East', canvas.width - 30, originY + 15);
            ctx.fillText('West', 10, originY + 15);
            ctx.fillText('North', originX + 5, 15);
            ctx.fillText('South', originX + 5, canvas.height - 10);
            
            // Draw vectors from origin
            // Ship's velocity (vs)
            drawVector(originX, originY, originX + vs.x * scale, originY - vs.y * scale, '#1d4ed8', 'v_s');
            // Wind's velocity (vw)
            drawVector(originX, originY, originX + vw.x * scale, originY - vw.y * scale, '#b91c1c', 'v_w');
            // Negative ship velocity (-vs)
            drawVector(originX, originY, originX + vs_neg.x * scale, originY - vs_neg.y * scale, '#8b5cf6', '-v_s');

            // Draw parallelogram sides
            ctx.setLineDash([5, 5]);
            ctx.strokeStyle = '#a1a1aa';
            // Line from tip of vw parallel to -vs
            ctx.beginPath();
            ctx.moveTo(originX + vw.x * scale, originY - vw.y * scale);
            ctx.lineTo(originX + vrel.x * scale, originY - vrel.y * scale);
            ctx.stroke();
            // Line from tip of -vs parallel to vw
            ctx.beginPath();
            ctx.moveTo(originX + vs_neg.x * scale, originY - vs_neg.y * scale);
            ctx.lineTo(originX + vrel.x * scale, originY - vrel.y * scale);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Draw the resultant relative velocity vector (v_rel)
            drawVector(originX, originY, originX + vrel.x * scale, originY - vrel.y * scale, '#047857', 'v_{rel}');
        };
    </script>
</body>
</html>
